<% content_for :page_title, "Climate Laws - #{@geography.name} - #{@litigation.title}" %>

<% content_for :sidebar do %>
<div class="sidebar__categories">
  <hr />

  <% if @responses.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Responses</p>

      <div class="categories_tags">
        <% @responses.each do |response| %>
          <span class="tag categories__tag"><%= response.name %></span>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if @sectors.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Sectors</p>

      <div class="categories_tags">
        <% @sectors.each do |sector| %>
          <span class="tag categories__tag"><%= sector.name %></span>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if @keywords.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Keywords</p>

      <div class="categories_tags">
      <% @keywords.each do |keyword| %>
        <span class="tag categories__tag"><%= keyword.name %></span>
      <% end %>
      </div>
    </div>
  <% end %>

  <% if @jurisdiction.present? %>
    <div class="categories__container">
      <p class="categories__title">Jurisdiction</p>

      <div class="categories_tags">
        <span class="tag categories__tag"><%= @jurisdiction %></span>
      </div>
    </div>
  <% end %>

  <% if @party_types.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Party types</p>

      <div class="categories_tags">
      <% @party_types.each do |party_type| %>
        <span class="tag categories__tag"><%= party_type %></span>
      <% end %>
      </div>
    </div>
  <% end %>

  <% if @sides_a.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Side A</p>

      <div class="categories_tags">
      <% @sides_a.each do |side_a| %>
        <span class="tag categories__tag"><%= side_a %></span>
      <% end %>
      </div>
    </div>
  <% end %>

  <% if @sides_b.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Side B</p>

      <div class="categories_tags">
      <% @sides_b.each do |side_b| %>
        <span class="tag categories__tag"><%= side_b %></span>
      <% end %>
      </div>
    </div>
  <% end %>

  <% if @sides_c.count > 0 %>
    <div class="categories__container">
      <p class="categories__title">Side C</p>

      <div class="categories_tags">
      <% @sides_c.each do |side_c| %>
        <span class="tag categories__tag"><%= side_c %></span>
      <% end %>
      </div>
    </div>
  <% end %>
</div>
<% end %> 

<div class="content-show">
  <h3 class="title"><%= @litigation.title %></h3>
  <section class="section is-medium">
    <%= render 'cclow/geography/litigation_cases/details_card', litigation: @litigation %>
  </section>
  <% if @litigation.events.present? %>
    <section class="section is-medium">
      <%= react_component("EventsTimeline", { events: @litigation.events.order(:date) }) %>
    </section>
  <% end %>
  <hr>
  <section class="section is-medium">
    <h5>Summary</h5>
    <%= @litigation.summary&.html_safe %>
  </section>
  <% if @litigation.documents.present? %>
    <section class="section is-medium">
      <h5>Case documents</h5>
      <%= render 'documents_list', documents: @litigation.documents %>
    </section>
  <% end %>
  <hr>
  <% if @legislations.present? %>
    <section class="section is-medium">
      <h5>Related laws and policies</h5>
      <%= render 'related_laws_list', legislations: @legislations %>
    </section>
  <% end %>
</div>
