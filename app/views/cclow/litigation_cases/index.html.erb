<% geography_options = {field_name: 'geography', options: Geography.all.map { |l| {value: l.id, label: l.name }}} %>
<% region_options = {field_name: 'region', options: Geography::REGIONS.map { |l| {value: l, label: l }}} %>

<div class="cclow-geography-page">
  <div class="container">
    <% if @query.present? %>
      <h5 class="search-title">Search results: <span class="search-text"><%= @query %></span> in Litigation cases</h5>
    <% else %>
      <h5>All Litigation cases</h5>
    <% end %>
    <hr>
    <div class="columns">
      <div class="column is-one-quarter">
        <%= react_component("SearchFilter", { filter_name: 'Regions and countries', params: [region_options, geography_options] })%>
      </div>
      <main class="column is-three-quarters" data-controller="content-list">
        <div class="columns pre-content">
          <span class="column is-half">Showing <%= @litigations.count %> results</span>
          <a class="column is-half download-link" href="#">Download results (CSV in .zip)</a>
        </div>
        <ul class="content-list">
          <% @litigations.each do   |l| %>
            <%= render 'cclow/litigation_cases/list_item', litigation: l %>
          <% end %>
        </ul>
        <div class="column is-offset-5">
          <button class="button is-primary load-more-btn">Load 10 more entries</button>
        </div>
      </main>
    </div>
  </div>
</div>
